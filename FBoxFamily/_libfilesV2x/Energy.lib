
$nolist
$skip

************************************************************

          PROGRAM         Macro Library for the Energy Family
          FILENAME        Energy
          AUTHOR          Schäfer GmbH Anlagentechnik , Schäfer GmbH Anlagentechnik
          VERSION         1

************************************************************

Created by Saia PG5 FBox Builder version V2.3.160

SHORT DESCRIPTION

FBOX MACROS IN THIS FILE
   SIND_ENGYMONTH      EnergyMonthly

HISTORY
$endskip

$IFNDEF _LIBVERS_.SIND_FBoxFamily
   _LIBVERS_.SIND_FBoxFamily EQU 0000001 ;SindFBoxFamily Library Version
$ENDIF

$SKIP
;;*******************************************************************************
;; Energy MACRO Library | v0.0.1 | 07.02.2021 16:38Z
;; Copyright (C) 2020 Marina Egner <info@sheepindustries.de>
;; Author: Marina Egner
;;
;; This program is free software: you can redistribute it and/or modify it
;; under the terms of the GNU General Public License as published by the
;; Free Software Foundation, either version 3 of the License, or (at your option) any later version.
;;
;; This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
;; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
;; See the GNU General Public License for more details.
;;
;; You should have received a copy of the GNU General Public License along with this program.
;; If not, see <https://www.gnu.org/licenses/>.
;; *******************************************************************************
;;
;; REVISION HISTORY
;; v0.0.1  07.02.2021 - M.Egner | Initial edit;
;;
;; DESCRIPTION
;; EnergyLibrary.
$ENDSKIP


; end of macro definitions

;;************************************************************
;; EnergyMonthly
;;************************************************************
SIND_ENGYMONTH MACRO  Vers,                 ; Version number
                   inEnergy,             ; 
                   outLastYearEnergy,    ; 
                   outActualYearEnergy,  ; 
                   outLastYearCost,      ; 
                   outActualYearCost,    ; 
                   dynRegister,          ; 
                   dynFlag,              ; 
                   stcPrice,             ; 
                   stcActualYearEnergyJan,  ; 
                   stcActualYearEnergyFeb,  ; 
                   stcActualYearEnergyMar,  ; 
                   stcActualYearEnergyApr,  ; 
                   stcActualYearEnergyMay,  ; 
                   stcActualYearEnergyJun,  ; 
                   stcActualYearEnergyJul,  ; 
                   stcActualYearEnergyAug,  ; 
                   stcActualYearEnergySep,  ; 
                   stcActualYearEnergyOct,  ; 
                   stcActualYearEnergyNov,  ; 
                   stcActualYearEnergyDec,  ; 
                   stcLastYearEnergyJan,  ; 
                   stcLastYearEnergyFeb,  ; 
                   stcLastYearEnergyMar,  ; 
                   stcLastYearEnergyApr,  ; 
                   stcLastYearEnergyMay,  ; 
                   stcLastYearEnergyJun,  ; 
                   stcLastYearEnergyJul,  ; 
                   stcLastYearEnergyAug,  ; 
                   stcLastYearEnergySep,  ; 
                   stcLastYearEnergyOct,  ; 
                   stcLastYearEnergyNov,  ; 
                   stcLastYearEnergyDec,  ; 
                   stcActualYearCostJan,  ; 
                   stcActualYearCostFeb,  ; 
                   stcActualYearCostMar,  ; 
                   stcActualYearCostApr,  ; 
                   stcActualYearCostMay,  ; 
                   stcActualYearCostJun,  ; 
                   stcActualYearCostJul,  ; 
                   stcActualYearCostAug,  ; 
                   stcActualYearCostSep,  ; 
                   stcActualYearCostOct,  ; 
                   stcActualYearCostNov,  ; 
                   stcActualYearCostDec,  ; 
                   stcLastYearCostJan,   ; 
                   stcLastYearCostFeb,   ; 
                   stcLastYearCostMar,   ; 
                   stcLastYearCostApr,   ; 
                   stcLastYearCostMay,   ; 
                   stcLastYearCostJun,   ; 
                   stcLastYearCostJul,   ; 
                   stcLastYearCostAug,   ; 
                   stcLastYearCostOct,   ; 
                   stcLastYearCostSep,   ; 
                   stcLastYearCostNov,   ; 
                   stcLastYearCostDec,   ; 
                   adjPrice,             ; 
                   adjActualYearEnergyJan, ; 
                   adjActualYearEnergyFeb, ; 
                   adjActualYearEnergyMar, ; 
                   adjActualYearEnergyApr, ; 
                   adjActualYearEnergyMay, ; 
                   adjActualYearEnergyJun, ; 
                   adjActualYearEnergyJul, ; 
                   adjActualYearEnergyAug, ; 
                   adjActualYearEnergySep, ; 
                   adjActualYearEnergyOct, ; 
                   adjActualYearEnergyNov, ; 
                   adjActualYearEnergyDec, ; 
                   adjLastYearEnergyJan, ; 
                   adjLastYearEnergyFeb, ; 
                   adjLastYearEnergyMar, ; 
                   adjLastYearEnergyApr, ; 
                   adjLastYearEnergyMay, ; 
                   adjLastYearEnergyJun, ; 
                   adLastYearEnergyJul,  ; 
                   adjLastYearEnergyAug, ; 
                   adjLastYearEnergySep, ; 
                   adjLastYearEnergyOct, ; 
                   adjLastYearEnergyNov, ; 
                   adjLastYearEnergyDec, ; 
                   adjActualYearCostJan, ; 
                   adjActualYearCostFeb, ; 
                   adjActualYearCostMar, ; 
                   adjActualYearCostApr, ; 
                   adjActualYearCostMay, ; 
                   adjActualYearCostJun, ; 
                   adjActualYearCostJul, ; 
                   adjActualYearCostAug, ; 
                   adjActualYearCostSep, ; 
                   adjActualYearCostOct, ; 
                   adjActualYearCostNov, ; 
                   adjActualYearCostDec, ; 
                   adj_LastYearCostJan,  ; 
                   adjLastYearCostFeb,   ; 
                   adjLastYearCostMar,   ; 
                   adjLastYearCostApr,   ; 
                   adjLastYearCostMay,   ; 
                   adjLastYearCostJun,   ; 
                   adjLastYearCostJul,   ; 
                   adjLastYearCostAug,   ; 
                   adjLastYearCostSep,   ; 
                   adjLastYearCostOct,   ; 
                   adjLastYearCostNov,   ; 
                   adjLastYearCostDec,   ; 
                   Name                  ; FBox Name
;;__BEGIN_MACROCODE_

$SKIP
;;*******************************************************************************
;; EnergyMonthly FBox | v0.0.1 | 07.02.2021 16:38Z
;; Copyright (C) 2020 Marina Egner <info@sheepindustries.de>
;; Author: Marina Egner
;;
;; This program is free software: you can redistribute it and/or modify it
;; under the terms of the GNU General Public License as published by the
;; Free Software Foundation, either version 3 of the License, or (at your option) any later version.
;;
;; This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
;; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
;; See the GNU General Public License for more details.
;;
;; You should have received a copy of the GNU General Public License along with this program.
;; If not, see <https://www.gnu.org/licenses/>.
;; *******************************************************************************
;;
;; REVISION HISTORY
;; v0.0.1  07.02.2021 - M.Egner | Initial edit;
;;
;; DESCRIPTION
;; EnergyMonthly saves the monthly consumption of ernegy and show it.
$ENDSKIP

; Check if Firmware version in DC is new enought, cause special condition codes where in use
$IF S.CPU.MinFWVersion < 12000
$FATAL PCD3.BAT0: Configured Firmware in Device Configurator is too Old! Fbox needs min 1.20.00.
$ENDIF
$IFNB <name#vers> ; Not in use
$ENDIF

$INIT
; TODO : add FBOX initialization code here
$ENDINIT
$IFNDEF _HEAVAC._VERS._HEAVAC
$FATAL Bitte zuerst Heavac-Init FBox platzieren!
$ENDIF

             STH    _HEAVAC._RESET._EXEC
             JR     L RUN
INIT:
;; Put Init Code here



RUN:
; TODO : add FBOX code here

;;__END_MACROCODE__
ENDM

$LIST
;;
